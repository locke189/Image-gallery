{"version":3,"sources":["webpack:///webpack/bootstrap 45837d7d8f875d768048","webpack:///./app/js/main.js","webpack:///./app/js/helper-functions.js","webpack:///./app/js/gallery/gallery-image.js","webpack:///./app/js/gallery/gallery.js","webpack:///./app/js/gallery/gallery-popup.js"],"names":["file","element","document","getElementById","gallery","images","loadJSON","imagePreloader","chunker","url","request","XMLHttpRequest","data","overrideMimeType","open","send","JSON","parse","responseText","array","callback","Image","onLoad","src","originalArray","size","chunkArray","forEach","push","length","galleryImage","parentElement","source","description","template","innerHTML","Gallery","arrayOfImages","parts","totalImages","galleryImageArray","activeArray","page","map","imageObject","renderHtml","querySelector","descrption","setEventListeners","introAnimation","updateHTML","imageContainers","querySelectorAll","t1","TimelineLite","staggerFrom","opacity","x","ease","Power0","easeNone","rotationX","rotationZ","time","CSSObject","to","giButton","giButtonClose","onclick","setAnimationTo","onComplete","nextSet","bind","onmouseenter","onmouseleave","popUpOn","popUpClose","style","height","children"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 45837d7d8f875d768048","import { loadJSON } from './helper-functions';\nimport { Gallery } from './gallery/gallery';\n\n  //get JSON\n  const file = loadJSON('./model/images.json');\n  //Set Gallery\n  const element  = document.getElementById(\"widget\");\n  const gallery = new Gallery(element, file.images,6);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/main.js","  /**\n  * Loads JSON file into object.\n  *\n  * @param {string} url, JSON URL.\n  * @return {object} data, returns json parsed into an object.\n  */\nexport function loadJSON(url){\n  const request = new XMLHttpRequest();\n  let data;\n  request.overrideMimeType(\"application/json\");\n  request.open(\"GET\", url, false);\n  request.send(null);\n  data = JSON.parse(request.responseText);\n  return data;\n}\n\n  /**\n  * Image Preloading\n  *\n  * @param {array} array, array of image urls.\n  * @param {function} callback, function that will be called when the\n  * images are loaded.\n  */\nexport function imagePreloader(array, callback){\n  const images = new Image();\n  if(callback)\n    images.onLoad = callback();\n  images.src = array;\n}\n\n  /**\n  * array chunker, creates an array of arrays of chunks of lenght 'size'\n  *\n  * @param {array} originalArray, generic array.\n  * @param {number} size, length of the smaller arrays\n  */\nexport function chunker(originalArray, size){\n  let array = [];\n  let chunkArray = [];\n  originalArray.forEach( (element) => {\n     array.push(element);\n     if( array.length === size ){\n       chunkArray.push(array);\n       array = [];\n     };\n  });\n  if(array) chunkArray.push(array);\n  return chunkArray;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/helper-functions.js","  /**\n  * GalleryImage, creates html for each image in the gallery\n  *\n  * @param {DOM} parentElement, DOM where the images will be put.\n  * @param {string} source, url of the image.\n  * @param {string} description, of the image.\n  */\nexport function  galleryImage(parentElement, source='', description = ''){\n    const template = `\n      <div class=\"gi-item gi-img-wrap \">\n\n        <span class=\"gi-close gi-hidden\">&times;</span>\n        <a href=\"#\" class=\"mfp-iframe popup-it\">\n          <img src=\"${source}\" class=\"gi-thumbnail img-responsive\" alt=\"${description}\">\n        </a>\n        <div class=\"gi-img-text\"><h4>${description}<h4></div>\n      </div>\n    `;\n    parentElement.innerHTML += template;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/gallery/gallery-image.js","import { positionPopup, popUpOn, popUpClose } from './gallery-popup';\nimport { galleryImage } from './gallery-image';\nimport { chunker, imagePreloader } from '../helper-functions';\n\n/**\n* Gallery - creates a gallery of images\n*\n* @param {DOM} parentElement, the DOM where the gallery will be placed\n* @param {array} arrayOfImages, the array of images that will be loaded into the\n*  gallery. array = [{source: 'http...', decription: 'image desc.'}, {...}]\n* @param {number} parts, indicates how many images will be loaded simultenously in\n*  the gallery.\n*/\n\nexport class Gallery{\n  constructor(parentElement, arrayOfImages = [],parts=6){\n    this.totalImages = arrayOfImages.length;\n    this.galleryImageArray = chunker(arrayOfImages,parts);\n    //this object holds the images that will be displayed into the gallery\n    this.activeArray = {\n      images: this.galleryImageArray[0],\n      page: 0,\n    };\n    //lazy load of active images\n    imagePreloader( this.activeArray.images.map(\n      imageObject  => { return imageObject.source; },\n      this.renderHtml(parentElement) )\n    );\n  }\n\n  renderHtml(element){\n    //Initial HTML template\n    this.template = `\n    <div id=\"gi-popup\" class=\"gi-overlay\">\n        <a href=\"#\" class=\"gi-closebutton\" >&times;</a>\n        <div class=\"gi-overlay-content\">\n          <img src=\"\" class=\"gi-fullsize\" alt=\"\">\n        </div>\n    </div>\n     <section class=\"gi-container\"></section>\n     <section class=\"gi-buttons-container\">\n       <span class=\"gi-pager\"> ${ this.activeArray.page + 1 } / ${this.galleryImageArray.length } </span>\n       <button class=\"gi-button\">Next Project</button>\n     </section>\n    `;\n    element.innerHTML = this.template;\n    //creates DOM for images in the activeArray object\n    this.activeArray.images.forEach((imageObject) => {\n        galleryImage(\n        document.querySelector(\".gi-container\"),\n        imageObject.source,\n        imageObject.descrption\n      );\n    });\n    //EventListeners need to be updated everytime as HTML is cleared everytime\n    this.setEventListeners();\n    //images intro animation\n    this.introAnimation();\n  }\n\n  updateHTML(){\n    document.querySelector(\".gi-container\").innerHTML = '';\n    this.activeArray.images.forEach((imageObject) => {\n        galleryImage(\n        document.querySelector(\".gi-container\"),\n        imageObject.source,\n        imageObject.descrption\n      );\n    });\n    this.introAnimation();\n    document.querySelector(\".gi-pager\").innerHTML = `${ this.activeArray.page + 1 } / ${this.galleryImageArray.length }`;\n  }\n\n  nextSet(){\n    // loads the next of images after outro animation\n    if (this.activeArray.page < this.galleryImageArray.length - 1){\n      this.activeArray.page += 1;\n    } else {\n      this.activeArray.page = 0;\n    }\n    this.activeArray.images = this.galleryImageArray[this.activeArray.page];\n\n    //lazy loading of images\n    imagePreloader( this.activeArray.images.map( imageObject  => { return imageObject.source; } ) );\n    this.updateHTML();\n    this.setEventListeners();\n  }\n\n  introAnimation(){\n    //animation has to be split into translation and 3d rotation. animations cannot be overlapped so\n    //are split and applied to images and their respective div containers\n    const imageContainers = document.querySelectorAll(\".gi-item\");\n    const images = document.querySelectorAll(\".gi-thumbnail\");\n    const t1 = new TimelineLite();\n    t1.staggerFrom(imageContainers,1,{opacity:0, x:\"-1000\", ease: Power0.easeNone}, -0.3, \"stagger\").\n       staggerFrom(images,1,{opacity:0, rotationX:180, rotationZ:180, ease: Power0.easeNone}, -0.3, \"stagger\");\n  }\n\n  setAnimationTo(element,time,CSSObject){\n    //this function will construct other functions for all different components that need mass instantiation\n    //ej. onmouseenter animations for each image\n    return () => {\n      const t1 = new TimelineLite();\n      t1.to(element,time,CSSObject);\n    };\n  }\n\n  setEventListeners(){\n    //Set up listeners\n    const giButton = document.querySelector(\".gi-button\");\n    const giButtonClose = document.querySelector(\".gi-closebutton\");\n\n    //next project button\n    giButton.onclick = this.setAnimationTo(document.querySelectorAll(\".gi-item\"),0.2,{opacity:0, ease: Power0.easeNone, onComplete: this.nextSet.bind(this)});\n    //text descriptions over images\n    document.querySelectorAll(\".gi-img-text\").forEach(  (element) => {\n      element.onmouseenter = this.setAnimationTo(element,0.2,{opacity:0.8, ease: Power0.easeNone});\n      element.onmouseleave = this.setAnimationTo(element,0.2,{opacity:0, ease: Power0.easeNone});\n    });\n    //image popups\n    document.querySelectorAll(\".gi-item\").forEach(  (element) => {\n       element.onclick = popUpOn(element);\n    });\n    //close popups\n    giButtonClose.onclick = popUpClose;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/gallery/gallery.js","export function popUpOn(element){\n  return () => {\n    document.getElementById(\"gi-popup\").style.height = \"100%\";\n    document.querySelector(\".gi-fullsize\").src = element.children[1].children[0].src;\n  };\n}\n\nexport function popUpClose(){\n  document.getElementById(\"gi-popup\").style.height = \"0%\";\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/gallery/gallery-popup.js"],"sourceRoot":""}